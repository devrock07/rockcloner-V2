name: Auto Release from Google Drive

on:
  workflow_dispatch:

jobs:
  auto-release:
    runs-on: ubuntu-latest

    permissions:
      contents: write

    steps:
      - name: üì• Generate auto tag version (vYYYYMMDD-HHMM)
        id: tagger
        run: |
          TAG="v$(date +'%Y%m%d-%H%M')"
          echo "tag_name=$TAG" >> $GITHUB_OUTPUT

      - name: ‚¨áÔ∏è Download ZIP from Google Drive
        run: |
          curl -L -o cloner-v2.zip "https://drive.google.com/uc?export=download&id=1B1jlPJG36iOsD33S_4DlZOfu7XKJjXER"

      - name: üöÄ Create Release & Upload
        uses: softprops/action-gh-release@v2
        with:
          tag_name: ${{ steps.tagger.outputs.tag_name }}
          name: "Cloner V2 ${{ steps.tagger.outputs.tag_name }}"
          files: cloner-v2.zip
